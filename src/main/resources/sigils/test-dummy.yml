# ============================================
# TEST SIGILS - For Testing Without Players
# ============================================
# These sigils work on ANY entity (mobs, dummies)
# Remove VICTIM_IS_PLAYER restrictions for testing
# ============================================

# Spawns a tanky training dummy
test_dummy:
  name: "&7Test Dummy"
  description:
    - "&7Spawns a training dummy"
    - "&7with lots of health"
  item:
    material: ARMOR_STAND
    custom_model_data: 9999
  max_tier: 1
  flow:
    type: ABILITY
    cooldown: 5
    startNodeId: "start"
    nodes:
      - id: "start"
        type: START
        x: 0
        y: 0
        next: "spawn"
      - id: "spawn"
        type: EFFECT
        effect: "SPAWN_ENTITY"
        x: 0
        y: 1
        params:
          entity_type: "IRON_GOLEM"
          count: 1
          duration: 300
          hp: 500
          speed: 0
          damage: 0
          knockback_resist: 1.0
          target_mode: "NONE"
          custom_name: "&e&lTest Dummy"
          glowing: true
          no_ai: true
          invulnerable: false
          silent: true
          no_drops: true
          target: "@Target"
        next: "msg"
      - id: "msg"
        type: EFFECT
        effect: "MESSAGE"
        x: 0
        y: 2
        params:
          message: "&aSpawned Test Dummy with 500 HP!"
          type: "ACTIONBAR"
        next: "end"
      - id: "end"
        type: END
        x: 0
        y: 3

# Test sigil - damage boost on ANY attack (not just players)
test_damage_boost:
  name: "&cTest Damage Boost"
  description:
    - "&7+50% damage on attack"
    - "&7Works on any entity"
  item:
    material: DIAMOND_SWORD
    custom_model_data: 9998
  max_tier: 1
  flow:
    type: SIGNAL
    trigger: ATTACK
    chance: 100
    startNodeId: "start"
    nodes:
      - id: "start"
        type: START
        x: 0
        y: 0
        next: "damage"
      - id: "damage"
        type: EFFECT
        effect: "DAMAGE_BOOST"
        x: 0
        y: 1
        params:
          percent: 50
        next: "particle"
      - id: "particle"
        type: EFFECT
        effect: "PARTICLE"
        x: 0
        y: 2
        params:
          particle: "CRIT"
          count: 20
          target: "@Victim"
        next: "msg"
      - id: "msg"
        type: EFFECT
        effect: "MESSAGE"
        x: 0
        y: 3
        params:
          message: "&c+50% Damage!"
          type: "ACTIONBAR"
        next: "end"
      - id: "end"
        type: END
        x: 0
        y: 4

# Test sigil - lifesteal on ANY attack
test_lifesteal:
  name: "&cTest Lifesteal"
  description:
    - "&7Heal 25% of damage dealt"
    - "&7Works on any entity"
  item:
    material: GOLDEN_SWORD
    custom_model_data: 9997
  max_tier: 1
  flow:
    type: SIGNAL
    trigger: ATTACK
    chance: 100
    startNodeId: "start"
    nodes:
      - id: "start"
        type: START
        x: 0
        y: 0
        next: "lifesteal"
      - id: "lifesteal"
        type: EFFECT
        effect: "LIFESTEAL"
        x: 0
        y: 1
        params:
          percent: 25
        next: "particle"
      - id: "particle"
        type: EFFECT
        effect: "PARTICLE"
        x: 0
        y: 2
        params:
          particle: "HEART"
          count: 5
        next: "end"
      - id: "end"
        type: END
        x: 0
        y: 3

# Test sigil - stun effect on ANY attack
test_stun:
  name: "&bTest Stun"
  description:
    - "&7Stun target for 2 seconds"
    - "&7Works on any entity"
  item:
    material: COBWEB
    custom_model_data: 9996
  max_tier: 1
  flow:
    type: SIGNAL
    trigger: ATTACK
    chance: 50
    cooldown: 5
    startNodeId: "start"
    nodes:
      - id: "start"
        type: START
        x: 0
        y: 0
        next: "stun"
      - id: "stun"
        type: EFFECT
        effect: "STUN"
        x: 0
        y: 1
        params:
          duration: 2
          target: "@Victim"
        next: "particle"
      - id: "particle"
        type: EFFECT
        effect: "PARTICLE"
        x: 0
        y: 2
        params:
          particle: "FLASH"
          count: 1
          target: "@Victim"
        next: "msg"
      - id: "msg"
        type: EFFECT
        effect: "MESSAGE"
        x: 0
        y: 3
        params:
          message: "&b&lStunned!"
          type: "ACTIONBAR"
        next: "end"
      - id: "end"
        type: END
        x: 0
        y: 4

# Test sigil - applies and checks marks (no player restriction)
test_mark:
  name: "&6Test Mark"
  description:
    - "&7Marks target on attack"
    - "&7Extra damage to marked targets"
  item:
    material: PAPER
    custom_model_data: 9995
  max_tier: 1
  flow:
    type: SIGNAL
    trigger: ATTACK
    chance: 100
    startNodeId: "start"
    nodes:
      - id: "start"
        type: START
        x: 0
        y: 0
        next: "mark"
      - id: "mark"
        type: EFFECT
        effect: "MARK"
        x: 0
        y: 1
        params:
          mark_name: "TEST_MARK"
          duration: 10
          target: "@Victim"
        next: "particle"
      - id: "particle"
        type: EFFECT
        effect: "PARTICLE"
        x: 0
        y: 2
        params:
          particle: "DUST"
          count: 20
          red: 255
          green: 165
          blue: 0
          target: "@Victim"
        next: "msg"
      - id: "msg"
        type: EFFECT
        effect: "MESSAGE"
        x: 0
        y: 3
        params:
          message: "&6Target Marked!"
          type: "ACTIONBAR"
        next: "end"
      - id: "end"
        type: END
        x: 0
        y: 4

# Test sigil - extra damage to marked targets
test_mark_explode:
  name: "&cTest Mark Explode"
  description:
    - "&7Explode marked targets"
    - "&7Use with Test Mark sigil"
  item:
    material: TNT
    custom_model_data: 9994
  max_tier: 1
  flow:
    type: SIGNAL
    trigger: ATTACK
    chance: 100
    conditions:
      logic: AND
      list:
        - "HAS_MARK:TEST_MARK"
    startNodeId: "start"
    nodes:
      - id: "start"
        type: START
        x: 0
        y: 0
        next: "damage"
      - id: "damage"
        type: EFFECT
        effect: "DAMAGE_BOOST"
        x: 0
        y: 1
        params:
          percent: 100
        next: "particle"
      - id: "particle"
        type: EFFECT
        effect: "PARTICLE"
        x: 0
        y: 2
        params:
          particle: "EXPLOSION"
          count: 1
          target: "@Victim"
        next: "sound"
      - id: "sound"
        type: EFFECT
        effect: "SOUND"
        x: 0
        y: 3
        params:
          sound: "ENTITY_GENERIC_EXPLODE"
          volume: 0.5
          pitch: 1.2
        next: "msg"
      - id: "msg"
        type: EFFECT
        effect: "MESSAGE"
        x: 0
        y: 4
        params:
          message: "&c&lMark Detonated! &7+100% damage!"
          type: "ACTIONBAR"
        next: "end"
      - id: "end"
        type: END
        x: 0
        y: 5
