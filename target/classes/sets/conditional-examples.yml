# ============================================================================
# CONDITIONAL TRIGGERS EXAMPLES
# ============================================================================
# This file demonstrates using CONDITIONS to gate effects intelligently
# Conditions allow triggers to only fire when specific requirements are met
#
# Common Conditions:
# - HEALTH_BELOW, HEALTH_ABOVE, HEALTH_PERCENT
# - VICTIM_HEALTH_BELOW, VICTIM_HEALTH_ABOVE, VICTIM_HEALTH_PERCENT
# - HAS_POTION, NO_POTION
# - IN_WATER, ON_GROUND, BLOCK_BELOW
# - BIOME, LIGHT_LEVEL, WEATHER
# - TIME (DAY/NIGHT/SUNSET/SUNRISE)
# - WEARING_FULL_SET
# - HAS_VICTIM, VICTIM_IS_PLAYER, VICTIM_IS_HOSTILE
# - TRIGGER (specific trigger type)
# ============================================================================

# ==================== HEALTH-BASED SET ====================
# Only procs when player is at low health
lifeguard:
  tiers:
    1:
      name_pattern: "Lifeguard.*"
      material: LEATHER
      equipped_message:
        - "&a&lPROTECTION ACTIVATED"
      unequipped_message:
        - "&cProtection disabled"

      synergies:
        # Only heal when low on health
        emergency_heal:
          trigger: DEFENSE
          chance: 80
          effects:
            - HEAL:8
            - MESSAGE:&a&oAutomatic healing activated! @Self
          cooldown: 3
          conditions:
            - HEALTH_BELOW:8  # Only when critical (4 hearts)

        # Resistance when threatened
        survival_instinct:
          trigger: DEFENSE
          chance: 100
          effects:
            - AEGIS:5
          cooldown: 1
          conditions:
            - HEALTH_BELOW:10

        # Counter-attack only when desperate
        last_stand:
          trigger: ATTACK
          chance: 50
          effects:
            - INCREASE_DAMAGE:100
            - POTION:STRENGTH:3:2 @Self
          cooldown: 5
          conditions:
            - HEALTH_BELOW:6  # Only at critical health


# ==================== ENVIRONMENTAL SET ====================
# Only works in specific biomes/conditions
aquatic:
  tiers:
    1:
      name_pattern: "Aquatic.*"
      material: LEATHER
      equipped_message:
        - "&b&lOCEAN BONDED"
      unequipped_message:
        - "&7Land binding restored"

      synergies:
        # Enhanced speed only in water
        hydroplane:
          trigger: EFFECT_STATIC
          chance: 100
          effects:
            - POTION:SPEED:999:2 @Self
          cooldown: 0
          conditions:
            - IN_WATER  # Only active in water

        # Water-based attacks
        hydro_strike:
          trigger: ATTACK
          chance: 60
          effects:
            - PARTICLE:WATER_SPLASH:20 @Victim
            - INCREASE_DAMAGE:30
          cooldown: 1
          conditions:
            - IN_WATER  # Only works in water

        # Ocean survival healing
        ocean_regeneration:
          trigger: TICK
          chance: 20
          effects:
            - HEAL:1
          cooldown: 0
          conditions:
            - IN_WATER
            - HEALTH_BELOW:18  # Only heal when hurt


# ==================== TIME-BASED SET ====================
# Changes behavior based on time of day
lunar:
  tiers:
    1:
      name_pattern: "Lunar.*"
      material: LEATHER
      equipped_message:
        - "&5&lTUNED TO THE MOON"
      unequipped_message:
        - "&7Moon's blessing fades"

      synergies:
        # Powerful at night
        lunar_strength:
          trigger: ATTACK
          chance: 50
          effects:
            - INCREASE_DAMAGE:50
            - PARTICLE:EFFECT:15 @Victim
          cooldown: 1
          conditions:
            - TIME:NIGHT  # Only at night

        # Weak during day
        solar_weakness:
          trigger: DEFENSE
          chance: 100
          effects:
            - AEGIS:2  # Reduced protection
          cooldown: 0
          conditions:
            - TIME:DAY  # Only during day

        # Transition powers (sunset/sunrise)
        twilight_surge:
          trigger: ATTACK
          chance: 75
          effects:
            - INCREASE_DAMAGE:70
            - PARTICLE:SOUL_FIRE_FLAME:20 @Victim
          cooldown: 2
          conditions:
            - TIME:SUNSET
            - TIME:SUNRISE


# ==================== COMBAT-CONDITIONAL SET ====================
# Effects change based on enemy type
hunter:
  tiers:
    1:
      name_pattern: "Hunter.*"
      material: LEATHER
      equipped_message:
        - "&c&lHUNTER MODE"
      unequipped_message:
        - "&7Instincts dormant"

      synergies:
        # Bonus damage vs hostile mobs
        predator_instinct:
          trigger: ATTACK
          chance: 60
          effects:
            - INCREASE_DAMAGE:40
            - PARTICLE:CRIT_MAGIC:20 @Victim
          cooldown: 1
          conditions:
            - VICTIM_IS_HOSTILE  # Only vs hostile mobs

        # Heavy bonus vs players
        pvp_focus:
          trigger: ATTACK
          chance: 50
          effects:
            - INCREASE_DAMAGE:80
            - PARTICLE:SWEEP_ATTACK:25 @Victim
          cooldown: 2
          conditions:
            - VICTIM_IS_PLAYER  # Only vs players

        # Lethal strike on low-health targets
        finishing_blow:
          trigger: ATTACK
          chance: 100
          effects:
            - INCREASE_DAMAGE:150
          cooldown: 3
          conditions:
            - VICTIM_HEALTH_BELOW:4  # Only when victim is low


# ==================== POTION-GATED SET ====================
# Effects require specific potions to be active
alchemist:
  tiers:
    1:
      name_pattern: "Alchemist.*"
      material: LEATHER
      equipped_message:
        - "&d&lCHEMICAL SYNERGY"
      unequipped_message:
        - "&7Potions stabilize"

      synergies:
        # Amplified damage when strength potion active
        chemical_surge:
          trigger: ATTACK
          chance: 50
          effects:
            - INCREASE_DAMAGE:60
            - PARTICLE:SPELL:20 @Victim
          cooldown: 1
          conditions:
            - HAS_POTION:STRENGTH  # Only with strength potion

        # Speed boost when speed active
        momentum:
          trigger: EFFECT_STATIC
          chance: 100
          effects:
            - POTION:SPEED:999:2 @Self
          cooldown: 0
          conditions:
            - HAS_POTION:SPEED

        # Healing without potions
        natural_recovery:
          trigger: TICK
          chance: 15
          effects:
            - HEAL:1
          cooldown: 0
          conditions:
            - NO_POTION:REGENERATION  # Only if NOT already regenerating
            - HEALTH_BELOW:18

        # Protection removal immunity
        cleanse:
          trigger: DEFENSE
          chance: 40
          effects:
            - AEGIS:8
          cooldown: 2
          conditions:
            - HAS_POTION:RESISTANCE  # Only with resistance potion


# ==================== CONDITIONAL WEAPONS ====================

# Weapon: Aquatic Sword (context-sensitive)
tidal_blade:
  name: "Tidal Blade"
  material: DIAMOND_SWORD
  requireSet: null
  events:
    # Normal attacks on land
    ATTACK:
      chance: 30
      effects:
        - INCREASE_DAMAGE:20
      cooldown: 1
      conditions:
        - ON_GROUND

    # Powerful attacks in water
    ATTACK:
      chance: 60
      effects:
        - INCREASE_DAMAGE:60
        - PARTICLE:WATER_SPLASH:25 @Victim
      cooldown: 1
      conditions:
        - IN_WATER  # Amplified in water


# Weapon: Holy Sword (requires health/no debuffs)
celestial_sword:
  name: "Celestial Sword"
  material: NETHERITE_SWORD
  requireSet: null
  events:
    # Only works when player is at full health
    ATTACK:
      chance: 50
      effects:
        - INCREASE_DAMAGE:80
        - PARTICLE:EFFECT:30 @Victim
      cooldown: 2
      conditions:
        - HEALTH_ABOVE:18  # Must be at full health (9 hearts)

    # Healing effect instead when hurt
    ATTACK:
      chance: 60
      effects:
        - HEAL:3
        - INCREASE_DAMAGE:20
      cooldown: 1
      conditions:
        - HEALTH_BELOW:18  # When not at full health


# Weapon: Nightblade (time-based)
nightblade:
  name: "Nightblade"
  material: DIAMOND_SWORD
  requireSet: null
  events:
    # Lethal at night
    ATTACK:
      chance: 80
      effects:
        - INCREASE_DAMAGE:100
        - PARTICLE:SOUL:40 @Victim
      cooldown: 1
      conditions:
        - TIME:NIGHT

    # Weak during day
    ATTACK:
      chance: 20
      effects:
        - INCREASE_DAMAGE:5
      cooldown: 1
      conditions:
        - TIME:DAY


# Weapon: Ice Bow (environmental)
frostbow:
  name: "Frostbow"
  material: BOW
  requireSet: null
  events:
    # Normal arrows
    BOW_HIT:
      chance: 40
      effects:
        - PARTICLE:CRIT_MAGIC:20 @Victim
        - POTION:SLOWNESS:2 @Victim
      cooldown: 0.5

    # Powerful freeze in snow biomes
    BOW_HIT:
      chance: 80
      effects:
        - PARTICLE:SNOW:30 @Victim
        - POTION:SLOWNESS:5:2 @Victim
        - POTION:WEAKNESS:5 @Victim
      cooldown: 1
      conditions:
        - BIOME:SNOW


# Weapon: Vampire Sword (health-based)
bloodlust_blade:
  name: "Bloodlust Blade"
  material: DIAMOND_SWORD
  requireSet: null
  events:
    # Lifesteal when below half health
    ATTACK:
      chance: 100
      effects:
        - LIFESTEAL:40
        - PARTICLE:REDSTONE:30 @Victim
      cooldown: 0.5
      conditions:
        - HEALTH_BELOW:10

    # Bonus vs low-health targets
    ATTACK:
      chance: 80
      effects:
        - INCREASE_DAMAGE:60
      cooldown: 1
      conditions:
        - VICTIM_HEALTH_BELOW:5


# Weapon: Ranger's Bow (player-only bonus)
executioner_bow:
  name: "Executioner's Bow"
  material: BOW
  requireSet: null
  events:
    # Normal damage vs mobs
    BOW_HIT:
      chance: 50
      effects:
        - INCREASE_DAMAGE:30
      cooldown: 0.5
      conditions:
        - VICTIM_IS_HOSTILE

    # High damage vs players
    BOW_HIT:
      chance: 80
      effects:
        - INCREASE_DAMAGE:100
        - PARTICLE:CRIT_MAGIC:40 @Victim
      cooldown: 1
      conditions:
        - VICTIM_IS_PLAYER


# Weapon: Build Hammer (mining tool)
hammer_of_construction:
  name: "Hammer of Construction"
  material: DIAMOND_PICKAXE
  requireSet: null
  events:
    # Mining boost when standing
    BLOCK_BREAK:
      chance: 100
      effects:
        - REPLENISH:5
        - DEVOUR:3
      cooldown: 0
      conditions:
        - ON_GROUND

    # Reduced bonus when falling/flying
    BLOCK_BREAK:
      chance: 30
      effects:
        - REPLENISH:1
      cooldown: 0
      conditions:
        - IN_WATER  # Harder to mine in water


# ==================== ADVANCED CONDITIONAL SYNERGY ====================
# Set with complex conditions (multiple gates)
sage:
  tiers:
    1:
      name_pattern: "Sage.*"
      material: LEATHER
      equipped_message:
        - "&5&lWISDOM GRANTED"
      unequipped_message:
        - "&7Clarity fades"

      synergies:
        # Massive damage only under optimal conditions
        perfect_moment:
          trigger: ATTACK
          chance: 100
          effects:
            - INCREASE_DAMAGE:200
            - PARTICLE:EFFECT:50 @Victim
          cooldown: 5
          conditions:
            # Must be: at full health, at night, on ground, no debuffs
            - HEALTH_ABOVE:18
            - TIME:NIGHT
            - ON_GROUND
            - NO_POTION:WEAKNESS

        # Defensive at day
        daylight_meditation:
          trigger: DEFENSE
          chance: 80
          effects:
            - AEGIS:20
          cooldown: 2
          conditions:
            - TIME:DAY

        # Context-aware healing
        adaptive_healing:
          trigger: TICK
          chance: 30
          effects:
            - HEAL:2
          cooldown: 0
          conditions:
            - HEALTH_BELOW:15
            - IN_WATER

        # Utility: block breaking only when safe
        careful_mining:
          trigger: BLOCK_BREAK
          chance: 100
          effects:
            - REPLENISH:4
          cooldown: 0
          conditions:
            - ON_GROUND
            - HEALTH_ABOVE:10
